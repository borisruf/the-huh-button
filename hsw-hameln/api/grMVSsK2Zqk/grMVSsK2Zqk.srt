1
00:00:09,680 --> 00:00:14,660
Ja, wir haben jetzt schon einiges über IP-Adressen gelernt. Jetzt ist natürlich die Frage, wie kommen eigentlich

2
00:00:14,660 --> 00:00:19,380
unsere Geräte, unsere Rechner, unsere Router zu ihren IP-Adressen, also wie werden

3
00:00:19,380 --> 00:00:24,160
IP-Adressen in unseren Netzwerken vergeben? Und dabei werden grundsätzlich erstmal zwei

4
00:00:24,160 --> 00:00:29,120
Arten unterschieden, nämlich dynamisch und auf der anderen Seite eben statisch oder

5
00:00:29,120 --> 00:00:33,980
manuell. Wenn wir uns das beide mal angucken, die Unterschiede

6
00:00:33,980 --> 00:00:38,800
zwischen statisch und dynamisch liegen letzten Endes

7
00:00:38,800 --> 00:00:43,540
darin, dass wir bei der automatischen Adressvergabe ein Protokoll fahren, wie wir das so häufig tun in

8
00:00:43,540 --> 00:00:48,460
Netzwerken, nämlich das DHCP-Protokoll oder das Dynamic Host Configuration Protocol.

9
00:00:48,460 --> 00:00:52,900
Das heißt, ich brauche dafür einen Server im Netzwerk, der die Aufgabe übernimmt,

10
00:00:53,040 --> 00:00:57,640
diese DHCP-Adressvergabe zu steuern. Dabei habe ich einen

11
00:00:57,640 --> 00:01:02,480
festgelegten Raum von IP-Adressen, aus dem eben

12
00:01:02,480 --> 00:01:07,340
für jeden Rechner, der eine solche Adresse beziehen möchte, eine Adresse ausgewählt wird. Das

13
00:01:07,340 --> 00:01:12,180
geht entweder vollkommen willkürlich oder nach einer festgelegten Vorgabe auf Basis der MAC

14
00:01:12,180 --> 00:01:17,220
-Adresse.  Und ich habe dadurch einen relativ geringen administrativen Aufwand, denn jeder Rechner, jedes

15
00:01:17,220 --> 00:01:23,540
Gerät, was neu in mein Netzwerk kommt, bekommt eben automatisch eine IP-Adresse zugewiesen. Mache

16
00:01:23,540 --> 00:01:28,260
ich es auf der anderen Seite manuell oder statisch, dann erfolgt die Adressvergabe durch den

17
00:01:28,260 --> 00:01:33,020
Administrator. Das heißt, ich muss als Administrator jedes Gerät einzeln mit einer

18
00:01:33,020 --> 00:01:37,980
IP-Adresse und allem, was noch so dazugehört, das sehen wir gleich noch, konfigurieren, was natürlich

19
00:01:37,980 --> 00:01:43,440
auch einen hohen administrativen Aufwand für den Administrator bedeutet.  Schauen

20
00:01:43,440 --> 00:01:48,420
wir uns mal die DHCP-Adressvergabe ein bisschen im Detail an. Und zwar ist es dann halt

21
00:01:48,420 --> 00:01:53,340
so, dass wir, wie schon gesagt, IP-Adressen aus einem definierten Bereich beziehen. Dabei

22
00:01:53,340 --> 00:01:58,000
kann es eben sein, dass aus diesem definierten Bereich eben willkürlich für jedes Gerät eine Adresse

23
00:01:58,000 --> 00:02:03,020
vergeben wird.  Was den Vorteil hat, dass diese Adressen eben nur einmalig vergeben werden. Darum

24
00:02:03,020 --> 00:02:07,520
kümmert sich eben mein DHCP-Server, darum kümmert sich das Protokoll, dass eben nur

25
00:02:07,520 --> 00:02:11,620
einmalig IP-Adressen vergeben werden und ich nicht durch manuelle Änderungen

26
00:02:11,620 --> 00:02:16,620
zufällig vielleicht doppelte IP-Adressen vergebe. Ich

27
00:02:16,620 --> 00:02:21,520
kann auf der anderen Seite aber auch auf Basis meiner MAC-Adresse bestimmte IP-Adressen für

28
00:02:21,520 --> 00:02:26,260
Rechner zuweisen.  Das heißt, wenn ein Rechner eine bestimmte MAC-Adresse hat und bei einem DHCP

29
00:02:26,260 --> 00:02:31,140
-Server eine IP-Adresse anfragt, dann bekommt der eben die dort definierte, für

30
00:02:31,140 --> 00:02:36,080
diese MAC-Adresse definierte IP-Adresse zugewiesen. Diese IP-Adressen, die

31
00:02:36,080 --> 00:02:40,660
dynamisch zugewiesen werden, haben noch eine weitere Besonderheit und zwar können die nach einer bestimmten Zeit

32
00:02:40,660 --> 00:02:45,620
verfallen. Das macht auch durchaus Sinn, denn wenn eine IP-Adresse eventuell nicht mehr benötigt wird,

33
00:02:45,660 --> 00:02:50,320
weil es den Rechner vielleicht gar nicht mehr gibt, sie aber trotzdem dauerhaft belegt bleibt, dann habe ich natürlich

34
00:02:50,320 --> 00:02:55,260
irgendwann keine IP-Adressen in meinem definierten Bereich, in meinem DHCP-Pool mehr zur Verfügung.

35
00:02:55,260 --> 00:03:00,240
Deswegen gibt es die sogenannte Lease-Time. Ist die abgelaufen, würde eben

36
00:03:00,240 --> 00:03:04,740
der DHCP-Server nachschauen, ist dieser Rechner überhaupt noch vorhanden, wird diese IP-Adresse noch

37
00:03:04,740 --> 00:03:09,740
benötigt. Wenn ja, wird diese neu vergeben.  Die Lease-Time beginnt von vorne. Wenn nein,

38
00:03:10,240 --> 00:03:15,120
wird die Adresse eben entsprechend wieder freigegeben. Jetzt ist es natürlich so, überall

39
00:03:15,120 --> 00:03:19,980
dort, wo wir verschiedene Möglichkeiten haben, gibt es natürlich auch Vorteile und Nachteile.  Bei

40
00:03:19,980 --> 00:03:24,640
den Vorteilen ist es so, dass ich, wie schon erwähnt, einen relativ geringen Administrationsaufwand habe durch

41
00:03:24,640 --> 00:03:29,440
die DHCP-Adressvergabe. Ich muss das nicht mehr für jeden einzelnen Rechner selber machen, sondern

42
00:03:29,440 --> 00:03:35,040
das wird einmal konfiguriert und anschließend funktioniert alles mehr oder weniger automatisch. Ein

43
00:03:35,040 --> 00:03:39,960
weiterer Vorteil ist, dass ich dadurch auch eine relative oder eine rudimentäre Sicherheit gewährleisten

44
00:03:39,960 --> 00:03:44,520
kann, denn ich kann ja festlegen, dass bestimmte MAC-Adressen bestimmte IP-Adressen bekommen.

45
00:03:44,520 --> 00:03:49,500
Und das kann ich natürlich auch für alle meine Geräte machen, soll heißen, ich hinterlege alle MAC-Adressen, dann steigt

46
00:03:49,500 --> 00:03:54,440
wieder der administrative Aufwand. Aber ich kann dadurch eben sicherstellen, dass nur die Rechner mit den

47
00:03:54,440 --> 00:03:59,480
MAC-Adressen, die ich hinterlege, auch tatsächlich IP-Adressen in meinem Netzwerk bekommen. Und

48
00:03:59,480 --> 00:04:04,080
auf der letzten Seite habe ich eben auch einen relativ geringen Nutzeraufwand, soll heißen, ich komme mit meinem

49
00:04:04,080 --> 00:04:09,900
Gerät, bringe dieses Gerät in das Netzwerk und schon bekomme ich automatisch eine IP-Adresse.  Da

50
00:04:09,900 --> 00:04:14,620
wo Vorteile sind, sind natürlich auch so ein paar Nachteile und einer der Nachteile, die wir dort

51
00:04:14,620 --> 00:04:19,600
haben, ist, dass ich natürlich auch einen gewissen Wartungsaufwand habe. Ich habe einen Server, der gewartet werden muss, ich

52
00:04:19,600 --> 00:04:24,460
habe dort eventuell Tabellen, die ich pflegen muss. Das ist allerdings deutlich weniger, als wenn ich jetzt wirklich

53
00:04:24,460 --> 00:04:29,580
in einem großen Netzwerk jedes Gerät einzeln manuell konfigurieren muss.  Und

54
00:04:29,580 --> 00:04:34,460
wenn ich ein weiteres Protokoll in mein Netzwerk bringe, nämlich in diesem Fall DHCP, habe ich natürlich auch den

55
00:04:34,460 --> 00:04:39,360
Nachteil, dass ich einen weiteren Overhead in mein Netzwerk bringe, also den Kommunikationsaufwand, der

56
00:04:39,360 --> 00:04:44,220
durch dieses Protokoll entsteht. Wenn wir uns mal den klassischen DHCP

57
00:04:44,220 --> 00:04:49,060
-Ablauf anschauen wollen, also wie kriegt eigentlich ein Rechner, der mit DHCP eine IP-Adresse

58
00:04:49,060 --> 00:04:53,980
zugewiesen bekommen möchte, diese IP-Adresse dann auch letztlich zugewiesen, dann sehen wir schon in diesem

59
00:04:53,980 --> 00:04:58,880
kleinen Schaubild unten eine sehr vereinfachte Darstellung. Wir haben also einen Rechner und wir haben einen Server und der

60
00:04:58,880 --> 00:05:03,820
Rechner möchte jetzt von diesem DHCP-Server eben eine IP-Adresse zugewiesen bekommen.

61
00:05:04,440 --> 00:05:09,380
Wenn man sich die einzelnen Schritte nochmal genauer anschaut, dann ist es eben so, dass zunächst mal ein Rechner in

62
00:05:09,380 --> 00:05:14,380
ein Netzwerk kommt und dabei dann eine Suchanfrage per Broadcast in unser Netzwerk sendet,

63
00:05:14,700 --> 00:05:19,380
einen sogenannten DHCP-Discover. Das heißt, ich suche mir erstmal einen DHCP

64
00:05:19,380 --> 00:05:23,020
-Server. Gibt es einen DHCP-Server? Das geschieht eben mit Hilfe dieses

65
00:05:23,020 --> 00:05:27,680
Broadcasts.  Im Idealfall habe ich dort einen

66
00:05:27,680 --> 00:05:32,560
DHCP-Server und dieser DHCP-Server oder auch mehrere, die antworten mir dann halt mit

67
00:05:32,560 --> 00:05:37,540
einem DHCP-Offer. Das heißt, sie bieten quasi ihren Dienst für diesen Rechner an

68
00:05:37,540 --> 00:05:42,360
und wenn ich nun mehrere habe, dann sucht sich mein Rechner eben entsprechend den

69
00:05:42,360 --> 00:05:47,160
DHCP-Server aus, den er gerne haben möchte oder mit dem er gerne arbeiten möchte und

70
00:05:47,160 --> 00:05:52,060
stellt an diesen dann eben die Anfrage, eine DHCP-Adresse zu bekommen, also einen sogenannten

71
00:05:52,060 --> 00:05:57,060
DHCP-Request. Und der letzte Schritt in dieser Reihenfolge wäre

72
00:05:57,060 --> 00:06:02,060
dann natürlich, dass der Client oder der vom Client ausgewählte Server eben diese

73
00:06:02,060 --> 00:06:06,860
Anfrage bestätigt mit einem sogenannten Acknowledgement, mit einem DHCP-Ack, also

74
00:06:06,860 --> 00:06:11,100
Acknowledgement und eben diese IP-Adresse und sämtliche weitere Informationen

75
00:06:11,100 --> 00:06:16,080
unserem Client zuweist.  Sämtliche weitere Informationen, was

76
00:06:16,080 --> 00:06:21,000
verbirgt sich letzten Endes dahinter, genau das sehen wir jetzt auch, wenn wir uns mal die manuelle Konfiguration

77
00:06:21,000 --> 00:06:25,960
anschauen. Hier mal ein beispielhafter Screenshot aus Windows, aus der Windows-IP-Konfiguration.

78
00:06:26,840 --> 00:06:31,500
Wir sehen dort schon zwei Elemente, die wir zumindest schon mal kennengelernt haben, nämlich die IP-Adresse als solches

79
00:06:31,500 --> 00:06:36,260
und auch die Subnet-Maske, über die wir ja schon gesprochen haben.  Wir sehen dort aber auch noch weitere

80
00:06:36,260 --> 00:06:41,240
Einträge, nämlich zum einen das Standard-Gateway, also was ist eigentlich mein Weg nach außen. Wir haben

81
00:06:41,240 --> 00:06:45,820
ja auch schon über Network-Address-Translation gesprochen, das ist also mein Gateway als Übergang in ein anderes

82
00:06:45,820 --> 00:06:50,900
Netzwerk. Und wir sehen dort auch noch zwei DHCP-Server, zwei DNS-Server, die

83
00:06:50,900 --> 00:06:55,380
letzten Endes dafür verantwortlich sind, dass eben meine Anfragen in IP-Adressen wieder

84
00:06:55,380 --> 00:06:59,660
übersetzt werden.  Und genau diese Informationen kann ich eben auch über DHCP

85
00:06:59,660 --> 00:07:04,580
automatisch verteilen. Mache ich es manuell, habe ich genau dieses Fenster, über

86
00:07:04,580 --> 00:07:09,040
das ich dann eben auf Basis oder an diesem Beispiel in einer Windows-Umgebung

87
00:07:09,040 --> 00:07:13,920
alles manuell eintragen und konfigurieren kann, konfigurieren muss, was

88
00:07:13,920 --> 00:07:18,180
eben entsprechend fehleranfällig auch sein könnte. Habe ich Zahlendreher drin, habe ich eventuell doppelte

89
00:07:18,180 --> 00:07:22,640
Adressen dort drin.  Wenn wir das Ganze jetzt nochmal so ein bisschen

90
00:07:22,640 --> 00:07:27,600
vergleichen, dann haben wir es eben so, dass wir bei der manuellen oder statischen Vergabe natürlich die

91
00:07:27,600 --> 00:07:32,560
komplette Kontrolle über das haben, was dort passiert. Das heißt, ich weiß genau, welcher Rechner bekommt welche

92
00:07:32,560 --> 00:07:37,500
IP-Adresse, weil ich sie ja selber zugewiesen habe. Und das kann zum Beispiel dort Sinn machen, wo ich

93
00:07:37,500 --> 00:07:41,820
Server betreibe.  Ein Server sollte oder muss eigentlich immer unter einem und derselben

94
00:07:41,820 --> 00:07:46,940
IP-Adresse erreichbar sein. Und wenn ich die dort statisch konfiguriere, dann bin ich mir eben sicher, dass

95
00:07:46,940 --> 00:07:51,940
die dort immer auch tatsächlich verfügbar ist. Auf der anderen Seite habe ich einen relativ

96
00:07:51,940 --> 00:07:56,920
hohen administrativen Aufwand und ich kann eben IP-Adress-Konflikte erzeugen, dadurch,

97
00:07:57,060 --> 00:08:02,040
dass ich unter Umständen eine doppelte Vergabe mache.  Und an der Stelle wiegen

98
00:08:02,040 --> 00:08:06,660
sich eigentlich auch verschiedene Nachteile und Vorteile von dynamischer und statischer

99
00:08:06,660 --> 00:08:11,480
Vergabe wieder auf. Denn dadurch, dass ich ja auf Basis von MAC-Adressen IP-Adressen zuweisen

100
00:08:11,480 --> 00:08:16,220
kann, kann ich eigentlich die Vorteile durch die statische Vergabe mir auch auf die

101
00:08:16,220 --> 00:08:21,180
dynamische Vergabe holen. Und damit wird eigentlich immer mehr die statische Vergabe

102
00:08:21,180 --> 00:08:23,280
von IP-Adressen in den Netzwerken abgelöst.
